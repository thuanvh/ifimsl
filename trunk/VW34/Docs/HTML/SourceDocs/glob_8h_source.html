<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>VW: glob.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen_vw.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.6.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
  <div class="navpath"><a class="el" href="dir_d8896b31b1a5675f817693ce20f8e11b.html">VWGTI</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_c0ea34c22076279924e50efc76cb6119.html">TransputerCode</a>
  </div>
<div class="contents">
<h1>glob.h</h1><a href="glob_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 
<a name="l00025"></a>00025 <span class="preprocessor">#include &quot;<a class="code" href="defs_8h.html">defs.h</a>&quot;</span>
<a name="l00026"></a>00026 
<a name="l00027"></a>00027 
<a name="l00028"></a><a class="code" href="glob_8h.html#a3b947f4b635461030ff2d87833e5049e">00028</a> <span class="preprocessor">#define TWO_PI 6.283185307</span>
<a name="l00029"></a>00029 <span class="preprocessor"></span><span class="preprocessor">#define PI 3.141592654</span>
<a name="l00030"></a><a class="code" href="glob_8h.html#a424474293274d0c4fa04da4151f420e5">00030</a> <span class="preprocessor"></span><span class="preprocessor">#define PI_F 3.141592654f</span>
<a name="l00031"></a><a class="code" href="glob_8h.html#a0f1b8abea02e07e3e3ec0a09ef33ea00">00031</a> <span class="preprocessor"></span><span class="preprocessor">#define CO 3.141592654f/180.00f</span>
<a name="l00032"></a><a class="code" href="glob_8h.html#a8b4dd00016aed25a0ea54e9a9acd1239">00032</a> <span class="preprocessor"></span><span class="preprocessor">#define TPI 6.283185307f</span>
<a name="l00033"></a>00033 <span class="preprocessor"></span>
<a name="l00034"></a>00034 <span class="comment">/*************************** DEFINE TO DO WITH TIMINGS ********************** */</span>
<a name="l00035"></a>00035 <span class="comment">/* define what one second is */</span>
<a name="l00036"></a><a class="code" href="glob_8h.html#a3d9fc3c745d0880902fe3ea3d5d5f71e">00036</a> <span class="preprocessor">#define CLOCKS_PER_SEC 15625</span>
<a name="l00037"></a>00037 <span class="preprocessor"></span>
<a name="l00038"></a>00038 <span class="comment">/* Define how often to output to ekf */</span>
<a name="l00039"></a><a class="code" href="glob_8h.html#a2712d2aea9d319d3ca20488791210956">00039</a> <span class="preprocessor">#define OUTPUT_TO_EKF_SECS 1.0f</span>
<a name="l00040"></a><a class="code" href="glob_8h.html#a8c24edb3d92f338a7f981687635ee49f">00040</a> <span class="preprocessor"></span><span class="preprocessor">#define OUTPUT_TO_EKF_TICKS (OUTPUT_TO_EKF_SECS * CLOCKS_PER_SEC)</span>
<a name="l00041"></a>00041 <span class="preprocessor"></span>
<a name="l00042"></a>00042 <span class="comment">/* Define the lkf loop - reading from the encoders */</span>
<a name="l00043"></a><a class="code" href="glob_8h.html#a0813afc5f264d004074567ba4a68f908">00043</a> <span class="preprocessor">#define LKF_TIME_INT_SECS 0.005f</span>
<a name="l00044"></a><a class="code" href="glob_8h.html#ada726d487e491f59f1dbc74156145262">00044</a> <span class="preprocessor"></span><span class="preprocessor">#define LKF_TIME_INT_TICKS (LKF_TIME_INT_SECS * CLOCKS_PER_SEC)</span>
<a name="l00045"></a>00045 <span class="preprocessor"></span>
<a name="l00046"></a>00046 <span class="comment">/* Define how often the i/o buffer control sends observations to the other nodes */</span>
<a name="l00047"></a><a class="code" href="glob_8h.html#a6938d50408a9a3b164688eb652910acd">00047</a> <span class="preprocessor">#define Z_12_DELAY_SECS 0.01f</span>
<a name="l00048"></a><a class="code" href="glob_8h.html#a0992df0f0410b0a5b039daa9c7bb37ce">00048</a> <span class="preprocessor"></span><span class="preprocessor">#define Z_12_DELAY_TICKS (Z_12_DELAY_SECS * CLOCKS_PER_SEC)</span>
<a name="l00049"></a>00049 <span class="preprocessor"></span>
<a name="l00050"></a>00050 <span class="comment">/* Define how often the observation collator collects observations from all the in buffers */</span>
<a name="l00051"></a><a class="code" href="glob_8h.html#a7110defea754bcea509189cfb2b46373">00051</a> <span class="preprocessor">#define Z_COLLATE_DELAY_SECS 0.01f</span>
<a name="l00052"></a><a class="code" href="glob_8h.html#a55f16b9cbfd95c81e56a4c7523a84c4d">00052</a> <span class="preprocessor"></span><span class="preprocessor">#define Z_COLLATE_DELAY_TICKS (Z_COLLATE_DELAY_SECS * CLOCKS_PER_SEC)</span>
<a name="l00053"></a>00053 <span class="preprocessor"></span>
<a name="l00054"></a>00054 <span class="comment">/* Define the Control Loop Time */</span>
<a name="l00055"></a><a class="code" href="glob_8h.html#a58857489d76ffb8df2ef751e9ca84b07">00055</a> <span class="preprocessor">#define DEMAND_TIME_DELAY_SECS 0.1f</span>
<a name="l00056"></a><a class="code" href="glob_8h.html#aaf78d39f4aa9e45999d04d2c89cb11bf">00056</a> <span class="preprocessor"></span><span class="preprocessor">#define DEMAND_TIME_DELAY_TICKS (DEMAND_TIME_DELAY_SECS * CLOCKS_PER_SEC)</span>
<a name="l00057"></a>00057 <span class="preprocessor"></span>
<a name="l00058"></a>00058 <span class="comment">/* Define the Tracker Loop Time */</span>
<a name="l00059"></a><a class="code" href="glob_8h.html#ac2f3112414f3fce71f28ca254e90422f">00059</a> <span class="preprocessor">#define TRACK_SAM_DELAY_SECS 0.05f</span>
<a name="l00060"></a><a class="code" href="glob_8h.html#ad290fcf89a1a09c15e13a3d220652d9a">00060</a> <span class="preprocessor"></span><span class="preprocessor">#define TRACK_SAM_DELAY_TICKS (TRACK_SAM_DELAY_SECS * CLOCKS_PER_SEC)</span>
<a name="l00061"></a>00061 <span class="preprocessor"></span>
<a name="l00062"></a>00062 <span class="comment">/* define how long the tracker should let the vehicle slow down for before ending */</span>
<a name="l00063"></a><a class="code" href="glob_8h.html#a51017de6ce7ac927dad3dbd12261eee9">00063</a> <span class="preprocessor">#define TRACK_END_DELAY_SECS 2.0f</span>
<a name="l00064"></a><a class="code" href="glob_8h.html#a739bb72f46027a343e11725e5ad9ccb7">00064</a> <span class="preprocessor"></span><span class="preprocessor">#define TRACK_END_DELAY_TICKS (TRACK_END_DELAY_SECS * CLOCKS_PER_SEC);</span>
<a name="l00065"></a>00065 <span class="preprocessor"></span>
<a name="l00066"></a>00066 <span class="comment">/* ************************************ DEFINES TO DO WITH ARRAY SIZE */</span>
<a name="l00067"></a>00067 
<a name="l00068"></a>00068 <span class="comment">/* this is the structure for the time velocity generated array of body */</span>
<a name="l00069"></a><a class="code" href="glob_8h.html#a0592dba56693fad79136250c11e5a7fe">00069</a> <span class="preprocessor">#define MAX_SIZE 400</span>
<a name="l00070"></a>00070 <span class="preprocessor"></span>
<a name="l00071"></a><a class="code" href="glob_8h.html#a9742ab6c30cea70a694a7eace4d161b3">00071</a> <span class="preprocessor">#define OC 180.00/3.141592654</span>
<a name="l00072"></a>00072 <span class="preprocessor"></span>
<a name="l00073"></a><a class="code" href="glob_8h.html#a75a05dc6db649fc00b00ecb7e06b7366">00073</a> <span class="preprocessor">#define STIFFNESS 0.5</span>
<a name="l00074"></a>00074 <span class="preprocessor"></span>
<a name="l00075"></a><a class="code" href="glob_8h.html#a80bfdd8adbffe226265cd729655a7268">00075</a> <span class="preprocessor">#define NUM_SPANS 40</span>
<a name="l00076"></a>00076 <span class="preprocessor"></span>
<a name="l00077"></a><a class="code" href="glob_8h.html#a4720b10f54078de05c8a9638073a8beb">00077</a> <span class="preprocessor">#define link_chan1(A, C) {A.C = C;}</span>
<a name="l00078"></a><a class="code" href="glob_8h.html#acbeaf5864f3801c6ca0ec20ce2c7030f">00078</a> <span class="preprocessor"></span><span class="preprocessor">#define link_chan2(A, B, C) {A.C = B.C = C;}</span>
<a name="l00079"></a>00079 <span class="preprocessor"></span>
<a name="l00080"></a>00080 <span class="comment">/* set the weighted gains */</span>
<a name="l00081"></a><a class="code" href="glob_8h.html#a9845a3cec7c8e7c7988bcf56aa82f24c">00081</a> <span class="preprocessor">#define STEER_W1 0.833f</span>
<a name="l00082"></a><a class="code" href="glob_8h.html#a7c1e65958b34354b2a4db525f7f580ea">00082</a> <span class="preprocessor"></span><span class="preprocessor">#define STEER_W2 0.485f</span>
<a name="l00083"></a><a class="code" href="glob_8h.html#a0ededc25c821f6f8c0fdad7f46fb5393">00083</a> <span class="preprocessor"></span><span class="preprocessor">#define DRIVE_W1 0.833f</span>
<a name="l00084"></a><a class="code" href="glob_8h.html#add5b2e82a0fe122a13a5b9e9e6a60b72">00084</a> <span class="preprocessor"></span><span class="preprocessor">#define DRIVE_W2 0.485f</span>
<a name="l00085"></a>00085 <span class="preprocessor"></span>
<a name="l00086"></a>00086 
<a name="l00087"></a>00087 <span class="comment">/* define two pi to convert from rads per sec to rev per sec */</span>
<a name="l00088"></a><a class="code" href="glob_8h.html#a4912c64aec0c943b7985db6cb61ff83a">00088</a> <span class="preprocessor">#define TWOPI 6.283185308</span>
<a name="l00089"></a><a class="code" href="glob_8h.html#a1684ee6aadbcabae1922c6f063a68177">00089</a> <span class="preprocessor"></span><span class="preprocessor">#define F_TWOPI 6.283185308f</span>
<a name="l00090"></a>00090 <span class="preprocessor"></span>
<a name="l00091"></a><a class="code" href="glob_8h.html#a598a3330b3c21701223ee0ca14316eca">00091</a> <span class="preprocessor">#define PI 3.141592654</span>
<a name="l00092"></a><a class="code" href="glob_8h.html#adf80665505a51e6f94b79076c63580fb">00092</a> <span class="preprocessor"></span><span class="preprocessor">#define F_PI 3.141592654f</span>
<a name="l00093"></a>00093 <span class="preprocessor"></span>
<a name="l00094"></a>00094 <span class="comment">/* Define certain constants */</span>
<a name="l00095"></a><a class="code" href="glob_8h.html#a9da0d98fea2d53e1553053e1923aa291">00095</a> <span class="preprocessor">#define DRIVE_RATIO 25</span>
<a name="l00096"></a><a class="code" href="glob_8h.html#aa28960fa8157b59c922755ecf87d65e2">00096</a> <span class="preprocessor"></span><span class="preprocessor">#define STEER_RATIO 40</span>
<a name="l00097"></a><a class="code" href="glob_8h.html#af3d837917a9febaa8362ea22bcf019a0">00097</a> <span class="preprocessor"></span><span class="preprocessor">#define F_DRIVE_RATIO 25.0f</span>
<a name="l00098"></a><a class="code" href="glob_8h.html#a72356caa2f5d0e72f8757e6a852c60f2">00098</a> <span class="preprocessor"></span><span class="preprocessor">#define F_STEER_RATIO 40.0f</span>
<a name="l00099"></a>00099 <span class="preprocessor"></span>
<a name="l00100"></a><a class="code" href="glob_8h.html#a11b6f03ce39373d49251f7030ada4a90">00100</a> <span class="preprocessor">#define STEER_MOTOR_DEV_NO 1</span>
<a name="l00101"></a><a class="code" href="glob_8h.html#a68d245fce516680f5ad572de81d14056">00101</a> <span class="preprocessor"></span><span class="preprocessor">#define DRIVE_MOTOR_DEV_NO 0</span>
<a name="l00102"></a>00102 <span class="preprocessor"></span>
<a name="l00103"></a><a class="code" href="glob_8h.html#a41e84e9d282dd13a7ec0206d67bebb47">00103</a> <span class="preprocessor">#define F_QUADS_PER_REV 2000.0f</span>
<a name="l00104"></a><a class="code" href="glob_8h.html#a3cf6f9986d1e3359ff75e7b01f93b3b8">00104</a> <span class="preprocessor"></span><span class="preprocessor">#define QUADS_PER_REV 2000</span>
<a name="l00105"></a>00105 <span class="preprocessor"></span>
<a name="l00106"></a><a class="code" href="glob_8h.html#ab553fd3f84382a42e6f29f95ddb4e677">00106</a> <span class="preprocessor">#define drive_encoder_start_pos 0</span>
<a name="l00107"></a><a class="code" href="glob_8h.html#a72f791839c7efe5e7935bfff74d1daf5">00107</a> <span class="preprocessor"></span><span class="preprocessor">#define steer_encoder_start_pos 0</span>
<a name="l00108"></a>00108 <span class="preprocessor"></span>
<a name="l00109"></a><a class="code" href="glob_8h.html#a86800e3f807fd5ab310a62739809e84c">00109</a> <span class="preprocessor">#define VALUE_OF_REG_ROFH 255</span>
<a name="l00110"></a><a class="code" href="glob_8h.html#a91cfe03ffaae8a08f7280159575097d0">00110</a> <span class="preprocessor"></span><span class="preprocessor">#define VALUE_OF_REG_ROFHF 255.0f</span>
<a name="l00111"></a>00111 <span class="preprocessor"></span>
<a name="l00112"></a><a class="code" href="glob_8h.html#aecf3e0abec77fedbcd9c422291879536">00112</a> <span class="preprocessor">#define K_S_GAIN 64</span>
<a name="l00113"></a><a class="code" href="glob_8h.html#ad3267b4a657169e01fc6c7f077bffa21">00113</a> <span class="preprocessor"></span><span class="preprocessor">#define A_S_GAIN 229</span>
<a name="l00114"></a><a class="code" href="glob_8h.html#ad5b5b023eaf29eeb6e4c263c0e5255fe">00114</a> <span class="preprocessor"></span><span class="preprocessor">#define B_S_GAIN 64</span>
<a name="l00115"></a><a class="code" href="glob_8h.html#a72861a158d236c75e071ce658fbd1265">00115</a> <span class="preprocessor"></span><span class="preprocessor">#define K_D_GAIN 64</span>
<a name="l00116"></a><a class="code" href="glob_8h.html#a6e8968dfd78442f4cf6ea9fc69e1e353">00116</a> <span class="preprocessor"></span><span class="preprocessor">#define A_D_GAIN 229</span>
<a name="l00117"></a><a class="code" href="glob_8h.html#af759ac0d1d6659946441af886031b108">00117</a> <span class="preprocessor"></span><span class="preprocessor">#define B_D_GAIN 64</span>
<a name="l00118"></a>00118 <span class="preprocessor"></span>
<a name="l00119"></a><a class="code" href="glob_8h.html#a5c71a5e59a53413cd6c270266d63b031">00119</a> <span class="preprocessor">#define R 0.08</span>
<a name="l00120"></a>00120 <span class="preprocessor"></span>
<a name="l00121"></a>00121 
<a name="l00122"></a>00122 
<a name="l00123"></a><a class="code" href="glob_8h.html#ac7c0207aa5a0e10d378be03b68041350">00123</a> <span class="preprocessor">#define MAX_NAME  10</span>
<a name="l00124"></a>00124 <span class="preprocessor"></span>
<a name="l00125"></a>00125 <span class="comment">/* *********************************** */</span>
<a name="l00126"></a>00126 <span class="comment">/* globals for the NLLSE */</span>
<a name="l00127"></a><a class="code" href="glob_8h.html#a809bf97a694dec61b9bdd452d6098ac9">00127</a> <span class="preprocessor">#define R_VEL_NOISE 0.0015</span>
<a name="l00128"></a><a class="code" href="glob_8h.html#a3995d3a40ab283bdc700f1cfacf3c271">00128</a> <span class="preprocessor"></span><span class="preprocessor">#define R_GAM_NOISE 0.0003</span>
<a name="l00129"></a>00129 <span class="preprocessor"></span>
<a name="l00130"></a><a class="code" href="glob_8h.html#a9b5f0dd7de3d5e0b8c92d1fc8a93e9a8">00130</a> <span class="preprocessor">#define XDIM 3</span>
<a name="l00131"></a><a class="code" href="glob_8h.html#a861a60a1343e7160913250f81b1b7ee7">00131</a> <span class="preprocessor"></span><span class="preprocessor">#define ZDIM 6</span>
<a name="l00132"></a>00132 <span class="preprocessor"></span>
<a name="l00133"></a><a class="code" href="glob_8h.html#ac43ab7cfe56f2be7a7dd7b44a34ab600">00133</a> <span class="preprocessor">#define NUM_WHEELS 2 </span><span class="comment">/* this is starting count at 0 1 2 etc */</span>
<a name="l00134"></a>00134 
<a name="l00135"></a><a class="code" href="glob_8h.html#aaa6f04f6f0d7cf1008a53279acf49f07">00135</a> <span class="preprocessor">#define WHEEL_RADIUS 0.08</span>
</pre></div></div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&nbsp;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&nbsp;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&nbsp;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&nbsp;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr size="1"/><address style="text-align: right;"><small>Generated on Sun Mar 21 09:55:45 2010 for VW by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
